# EvalForge Environment Configuration
# Copy this file to .env and update with your values

# ============================================
# DATABASE CONFIGURATION
# ============================================

# PostgreSQL Configuration
POSTGRES_USER=evalforge
POSTGRES_PASSWORD=changeme_secure_password_123
POSTGRES_DB=evalforge
POSTGRES_HOST=postgres
POSTGRES_PORT=5432
DATABASE_URL=postgres://evalforge:changeme_secure_password_123@postgres:5432/evalforge?sslmode=disable

# ClickHouse Configuration
CLICKHOUSE_USER=default
CLICKHOUSE_PASSWORD=changeme_clickhouse_password
CLICKHOUSE_DB=evalforge
CLICKHOUSE_HOST=clickhouse
CLICKHOUSE_PORT=9000

# Redis Configuration
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=changeme_redis_password_456
REDIS_DB=0

# ============================================
# APPLICATION CONFIGURATION
# ============================================

# Backend Configuration
API_PORT=8088
GIN_MODE=release
LOG_LEVEL=info
CORS_ORIGINS=http://localhost:3000,http://localhost:8088

# Frontend Configuration
FRONTEND_PORT=3000
VITE_API_URL=http://localhost:8088
VITE_WS_URL=ws://localhost:8088

# Authentication
JWT_SECRET=changeme_jwt_secret_very_long_random_string_789
JWT_EXPIRY_HOURS=24
BCRYPT_COST=10

# ============================================
# LLM PROVIDER CONFIGURATION
# ============================================

# Anthropic Configuration (Optional)
ANTHROPIC_API_KEY=
ANTHROPIC_MODEL=claude-3-opus-20240229
ANTHROPIC_MAX_TOKENS=4096

# OpenAI Configuration (Optional)
OPENAI_API_KEY=
OPENAI_MODEL=gpt-3.5-turbo
OPENAI_MAX_TOKENS=4096

# Mock LLM Configuration (For Testing)
USE_MOCK_LLM=false
MOCK_LLM_URL=http://mock-llm:8080

# ============================================
# MONITORING & OBSERVABILITY
# ============================================

# Prometheus Configuration
PROMETHEUS_PORT=9090
METRICS_ENABLED=true
METRICS_PATH=/metrics

# Grafana Configuration
GRAFANA_PORT=3001
GRAFANA_ADMIN_USER=admin
GRAFANA_ADMIN_PASSWORD=changeme_grafana_password

# Jaeger Configuration
JAEGER_ENABLED=true
JAEGER_AGENT_HOST=jaeger
JAEGER_AGENT_PORT=6831
JAEGER_SAMPLING_RATE=0.1

# ============================================
# FEATURE FLAGS
# ============================================

# Auto-Evaluation
AUTO_EVALUATION_ENABLED=true
MIN_PROMPT_LENGTH=20
MAX_PROMPT_LENGTH=10000
EVALUATION_TRIGGER_THRESHOLD=100

# Rate Limiting
RATE_LIMIT_ENABLED=true
RATE_LIMIT_REQUESTS_PER_HOUR=1000
RATE_LIMIT_BURST_SIZE=100

# WebSocket
WEBSOCKET_ENABLED=true
WEBSOCKET_PING_INTERVAL=30s
WEBSOCKET_MAX_CONNECTIONS=1000

# ============================================
# STORAGE & RETENTION
# ============================================

# Data Retention
RETENTION_DAYS=30
MAX_EVENTS_PER_PROJECT=1000000
MAX_TRACES_PER_DAY=10000

# File Storage (MinIO)
MINIO_ENDPOINT=minio:9000
MINIO_ACCESS_KEY=minioadmin
MINIO_SECRET_KEY=changeme_minio_password
MINIO_BUCKET=evalforge
MINIO_USE_SSL=false

# ============================================
# SECURITY CONFIGURATION
# ============================================

# Security Headers
ENABLE_SECURITY_HEADERS=true
HSTS_MAX_AGE=31536000
CSP_POLICY="default-src 'self'"

# API Keys
API_KEY_LENGTH=32
API_KEY_PREFIX=proj_

# Session Configuration
SESSION_TIMEOUT_MINUTES=60
SESSION_COOKIE_SECURE=false
SESSION_COOKIE_HTTPONLY=true
SESSION_COOKIE_SAMESITE=strict

# ============================================
# EMAIL CONFIGURATION (Optional)
# ============================================

# SMTP Configuration
SMTP_ENABLED=false
SMTP_HOST=mailhog
SMTP_PORT=1025
SMTP_USER=
SMTP_PASSWORD=
SMTP_FROM=noreply@evalforge.ai

# ============================================
# WEBHOOK CONFIGURATION
# ============================================

WEBHOOK_ENABLED=true
WEBHOOK_TIMEOUT_SECONDS=10
WEBHOOK_MAX_RETRIES=3
WEBHOOK_RETRY_DELAY_SECONDS=5

# ============================================
# PERFORMANCE TUNING
# ============================================

# Database Connections
DATABASE_MAX_CONNECTIONS=100
DATABASE_MAX_IDLE_CONNECTIONS=10
DATABASE_CONNECTION_MAX_LIFETIME=1h

# Redis Pool
REDIS_POOL_SIZE=50
REDIS_MAX_RETRIES=3
REDIS_MIN_IDLE_CONNECTIONS=10

# Worker Configuration
WORKER_POOL_SIZE=10
BATCH_PROCESSING_SIZE=100
BATCH_PROCESSING_INTERVAL=5s

# ============================================
# DEVELOPMENT CONFIGURATION
# ============================================

# Development Mode
DEV_MODE=false
DEBUG=false
VERBOSE_LOGGING=false

# Hot Reload (Air)
AIR_ENABLED=true
AIR_BUILD_CMD="go build -o ./tmp/backend ."
AIR_BIN="./tmp/backend"

# ============================================
# DEPLOYMENT CONFIGURATION
# ============================================

# Environment
ENVIRONMENT=development
DEPLOYMENT_TYPE=docker
REGION=us-east-1
AVAILABILITY_ZONE=us-east-1a

# Health Checks
HEALTH_CHECK_ENABLED=true
HEALTH_CHECK_INTERVAL=30s
HEALTH_CHECK_TIMEOUT=5s

# Graceful Shutdown
GRACEFUL_SHUTDOWN_TIMEOUT=30s
DRAIN_TIMEOUT=10s